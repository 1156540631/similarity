e = (getenv("SVN_EDITOR"));
svn_config_get(cfg,&e,"helpers","editor-cmd",((void *)0));
e = (getenv("VISUAL"));
e = (getenv("EDITOR"));
e = "/usr/bin/vi";
*editor = e;
const char **tmpfile_left,const char *editor_cmd,
const svn_string_t *contents,const char *filename,apr_hash_t *config,svn_boolean_t as_text,const char *encoding,apr_pool_t *pool)
const char *editor;
const char *tmpfile_native;
svn_error_t *svn_err__temp = find_editor_binary(&editor,editor_cmd,config);
svn_error_t *svn_err__temp = svn_subst_translate_cstring2(contents -> data,&translated,"\n",0,((void *)0),0,pool);
translated_contents = svn_string_create_empty(pool);
svn_error_t *svn_err__temp = svn_utf_cstring_from_utf8_ex2(&translated_contents -> data,translated,encoding,pool);
svn_error_t *svn_err__temp = svn_utf_cstring_from_utf8(&translated_contents -> data,translated,pool);
translated_contents = svn_string_dup(contents,pool);
apr_err = apr_filepath_get(&old_cwd,0x10,pool);
apr_err = apr_filepath_set(base_dir_apr,pool);
err = svn_io_open_uniquely_named(&tmp_file,&tmpfile_name,"",filename,".tmp",svn_io_file_del_none,pool,pool);
svn_error_t *svn_err__temp = svn_io_temp_dir(&base_dir,pool);
svn_error_t *svn_err__temp = svn_path_cstring_from_utf8(&temp_dir_apr,base_dir,pool);
apr_err = apr_filepath_set(temp_dir_apr,pool);
err = svn_io_open_uniquely_named(&tmp_file,&tmpfile_name,"",filename,".tmp",svn_io_file_del_none,pool,pool);
err = svn_path_cstring_from_utf8(&tmpfile_apr,tmpfile_name,pool);
apr_err = apr_stat(&finfo_before,tmpfile_apr,0x10,pool);
apr_file_mtime_set(tmpfile_apr,finfo_before . mtime - 2000,pool);
apr_err = apr_stat(&finfo_before,tmpfile_apr,0x00000010 | 0x00000100,pool);
err = svn_utf_cstring_from_utf8(&tmpfile_native,tmpfile_name,pool);
cmd = (apr_psprintf(pool,"%s %s",editor,tmpfile_native));
sys_err = system(cmd);
static svn_error_t *find_editor_binary(const char **editor,const char *editor_cmd,apr_hash_t *config)
e = editor_cmd;
*editor = e;
svn_error_t *svn_err__temp = find_editor_binary(&editor,editor_cmd,config);
cmd = (apr_psprintf(pool,"%s %s",editor,tmpfile_native));
sys_err = system(cmd);
